# 墨干理工套件 V1.2.9.5 LTS
墨干理工套件 V1.2.9.5 LTS 包含以下组件：
+ 墨干 V1.2.9.5 ( Mogan Research v1.2.9.5 LTS )

## 亮点
+ 文档格式切换至使用UTF-8编码的TMU格式，以替换采用ISO-8859-1, ISO-8859-2, ISO-8859-5, ISO-8859-7编码的TM格式
+ 改进了HTML的导入，几乎无损复制GPT生成或者大平台的数学公式和表格：
  + ChatGPT
  + Kimi
  + Zhihu
  + Wikipedia
  + ...
+ 支持Word文档（docx格式）的导出
+ 改进了文学编程相关功能的性能
+ 模板中心上线

## v1.2.9.5
+ OSPP开源之夏
  + 修复标签页托拽会导致墨干崩溃的问题，并启用该功能
+ TMU 1.0.5: 完善并固定Herk编码和UTF-8之间的转换
+ 中文文档: 如果一个字符（U+0000~U+036F）在TeXmacs Computer Modern不存在对应字形，那么使用Noto CJK SC字体

> 注意：墨干V1.2.9正式将TMU v1.0.3设置为默认格式。墨干V1.2.9.3升级到TMU v1.0.4，仅做了一些依赖函数的重命名，兼容TMU v1.0.3。墨干V1.2.9.5升级到TMU v1.0.5，改进了UTF-8编码到Herk编码的转换，修复了TMU格式读取时存在的问题；另外按照维基百科的Cork编码表格修正了五个非常用字符（Cork+17, Cork+18, Cork+1A，Cork+DF, Cork+7F）和UTF+8的转化。TMU v1.0.5仅在这五个非常用字符上和TMU v1.0.3及v1.0.4存在不兼容的情况。

## v1.2.9.3
+ OSPP开源之夏（已经结束，做一些收尾的修复）
  + 修复`编辑->复制到->HTML`乱码的问题
  + 临时禁用标签页托拽的功能以避免托拽导致墨干崩溃
  + 修复可编辑PDF在include远程文档时无法导出的问题
+ 社区：模板中心上线
  + 访问`帮助->星球`首先加载本地文件，由用户自行选择访问官方文档还是Github镜像
  + 新增`帮助->模板`首先加载本地文件，由用户自行选择访问官方模板中心还是Github镜像
+ 排版引擎
  + 改进间隔符、双引号、单引号在文档语言为中文时的渲染
  + 修复在中英文之间添加很小的间隙时，将中文标点符当作英文从而导致中文标点符号和汉字间距略大的问题
+ 插件：
  + LaTeX插件升级到20241003：修复ieeeconf和ieeetran模板使用了非内置字体termes导致无法加粗的问题（种子用户）
  + HTML插件升级到20241003: 修复静态站点生成功能在HTML插件导出MathML数学公式时不可用的问题（种子用户）
+ 界面：
  + 新增`插入->数学公式->LaTeX align`
  + `编辑->首选项`中启用`数学`首选项

### 开发者相关
+ 内置金鱼Scheme v17.10.7
+ tbox升级到v1.7.6

## v1.2.9.2
### 重要变更
+ OSPP开源之夏
  + 多标签页功能已经默认开启
  + HTML导出大大改善，能导出docx格式的文档（需要安装pandoc）
  + Scheme/C++能借助Tree Sitter高亮，支持彩虹括号（需要开启AST syntax highligting实验选项）
+ TMU格式：开启自动保存的功能（种子用户）
+ 插件：
  + HTML导入导出的Scheme实现部分已经插件化
  + LaTeX导入导出的Scheme实现部分和论文模板已经插件化
  + Python语言支持插件化（需要手动引入`code/python.ts`才能使用`python-code`，`python-lang`等标记）
+ 用户界面
  - 语义标记高亮（`marked`）支持在焦点工具栏设置高亮颜色（种子用户）
+ 缺陷修复
  - 修复了Windows平台用户名为中文时，墨干无法被关闭的问题（种子用户）

### 开发者相关
+ 内置金鱼Scheme v17.10.6，将S7 Scheme升级至v10.12-20240816

## v1.2.9
### 重要变更
+ **TMU: 默认格式已经调整为TMU**，使用`文件->导出->TM文档`可以导出TM文档
+ 字体：在macOS和Windows上内置Noto CJK字体
+ 字体：在文档语言是中文的情况下，改善数学公式中括号等符号的渲染（开源之夏2024）
+ 多语言支持：修复法语等语言的翻译编码错乱问题
+ 默认配置：`编辑->首选项->键盘->文本中的空格键`调整为允许输入多个空格
+ Emacs风格快捷键：修复无法在数学公式中使用`Alt+[`和`Alt+]`撤销和重做的问题
+ 插件：
  - Gnuplot: 基于金鱼Scheme重新实现，不再依赖于Python
  - Goldfish: 新增sicp启动器，适合学习SICP，内置false,true,nil等兼容SICP示例代码的函数和常量
+ 社区：
  - 墨客星球：按照界面语言，选择不同的墨客星球入口

### 开发者相关
+ 内置金鱼Scheme v17.10.4，将S7 Scheme升级至v10.12-20240813
