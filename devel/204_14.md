# 204_14 优化目录样式

## 如何测试
- 清除缓存 
  - Windows下是先在文件资源管理器里的地址输入框里输入 `%appdata%`，然后删除 `AppData/Roaming/MoganLab` 和 `AppData/Local/MoganLab`。
  - Linux下是删除 `.cache/MoganLab`。
  - macOS下是删除 `~/Library/Caches/MoganLab`。
- 测试文档：Texmacs/tests/tmu/204_13.tmu
  - 更新目录，测试生成的结果是否下方What所写
  - 切换语言为英语（美国），看章和附录是否有抬头

## 2025/12/8 修改目录生成中关于chapter的规则
### What
给chapter和appendix添加抬头，给目录中chapter添加抬头，中文环境下使用 第 x 章。

### Why
目录中chapter前面不带抬头，这是不标准的；chapter和appendix在generic样式下创建时没有抬头，需要补充。

### How
修改 section-base.ts 中的 chapter-toc
`<toc-title|chapter|<arg|name>` -> `<if|<chapter-numbered>|<chapter-text> <the-chapter><chapter-sep><arg|name>`
