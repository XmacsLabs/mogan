# 204_17 优化 algorithm 使用体验

## 如何测试
- 清除缓存 
  - Windows下是先在文件资源管理器里的地址输入框里输入 `%appdata%`，然后删除 `AppData/Roaming/MoganLab` 和 `AppData/Local/MoganLab`。
  - Linux下是删除 `.cache/MoganLab`。
  - macOS下是删除 `~/Library/Caches/MoganLab`。
- 测试文档：Texmacs/tests/tmu/204_17.tmu
  - 文档中上面是`specified-algorithm`，下面是`algorithm`
  - 新建文档，点击 `插入 -> 程序 -> 算法`，然后切换到 源码模式（`文档 -> 源码 -> 编辑源码树`），查看是否是 `specified-algorithm`
  - 这时没有启用modern-program，没法在caption里添加文本，点击`小扳手 -> Modern programs`看是否和测试文档一致

## 2025/12/11 修改 algorithm 环境样式
### What
新建 modern-program 样式包，将工具栏里的`算法`按钮调用 `algorithm` 更换为 `specified-algorithm`，后者会多加一个`intro`参数，可以分离 caption 和 body。