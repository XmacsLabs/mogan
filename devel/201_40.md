# [201_40] 增加绘图模式的容错处理

## 如何测试
- 测试文件:TeXmacs/tests/tmu/201_40.tmu
- 步骤
    1. 使用编辑器打开该测试文件，分别进入文件里面的三个绘图
    2. 观察菜单是否消失，菜单未消失则为正常
    3. 观察光标移动是否正常，若未出现一卡一卡的就是正常

## 2025/11/11 解决绘图模式的bug

## What
修改前：
打开这两个文件会出现问题，菜单会消失和光标出现一卡一卡的情况

实际修改：
1. 当遇到 `(concat ...)` 结构时
2. 使用 `list-find` 在 `concat` 的所有元素中查找 `tuple`
3. 如果找到 `tuple`，处理 `tuple` 内部的内容
4. 如果没找到 `tuple`，按原逻辑处理整个列表

## Why
- 错误信息：`string->symbol argument, (tuple "group-edit" "edit-props"), is a pair but should be a string`

- 原因分析：当 `gr-mode` 的值为 `<tuple|group-edit|edit-props>#` 时，`tree->stree` 将其转换为 `(concat (tuple "group-edit" "edit-props") "#")` 结构。原始的 `graphics-mode` 函数没有正确处理这种 `concat` 结构，导致在执行 `(map string->symbol (cdr m))` 时出现类型错误。