# [206_17] 支持新Cork字体

## 如何测试
1. 进入数学模式，测试 tab cycling
2. 键入`1 1 tab`进入 tab cycling ，查看第4个候选项是否正常显示，再连续多次tab查看功能是否正常
3. 键入`A A tab`进入 tab cycling ，查看第3个候选项是否正常显示，再连续多次tab查看功能是否正常
4. 同理键入`B B, ..., Z Z tab`进入 tab cycling ，查看第3个候选项是否正常显示，再连续多次tab查看功能是否正常

## 2026/1/15
### What
原本 tab cycling 中`<Bbb-0>`到`<Bbb-9>`、`<cal*-A>`到`<cal*-Z>`是由 math-insert 插入的，原因是编辑器未支持 cal* 和 Bbb 字体

现增添对新字体的支持，并替换 `math-kbd.scm` 中对应的插入命令为直接插入新字体的命令

### How
由于字体文件索引关联大量写死，且注册方式极其繁琐复杂，以下只说明具体修改的位置

- 在 `TeXmacs/fonts/enc/**math**.enc` 主enc中添加注册新字体索引槽位表
- 新增新字体槽位表 `TeXmacs/fonts/enc/math-bbb-cap.enc` 和 `TeXmacs/fonts/enc/math-cal-star.enc`，添加索引映射
- 在 `TeXmacs/progs/fonts/fonts-composite.scm` 中映射新字体对应的物理字体文件
- 在 `TeXmacs/progs/fonts/fonts-math.scm` 中修改原槽位顺序、添加新字体Scheme签名并调整派生规则，使其对应主enc的新槽位顺序
- 在 `TeXmacs/progs/language/std-symbols.scm` 中增添其为标准symbol支持，增添语义分析支持
- 在 `TeXmacs/progs/math/math-kbd.scm` 中替换原有的插入命令为直接插入新字体的命令