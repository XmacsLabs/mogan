# 支持emoji pdf导出

## 如何测试
可以导出之前的含emoji tmu

## 2025/09/18

### What
支持emoji pdf导出

### How

1. **重构公共 `draw_emoji` 接口**：
   - 在 `renderer.hpp` 中添加新的公共函数声明：`picture draw_emoji(int char_code, font_glyphs fn, hashmap<int, hashmap<int, picture>>& emoji_cache)`
   - 在 `renderer.cpp` 中实现新的公共函数，接受缓存参数并返回picture对象
   - 修改原有的 `draw_emoji` 函数，使其调用新的公共接口保持向后兼容

2. **为各渲染器添加独立缓存**：
   - **MuPDF渲染器** (`mupdf_renderer.hpp:51`): 添加私有缓存成员 `emoji_cache`
   - **PDF渲染器** (`pdf_hummus_renderer.cpp:125`): 添加私有缓存成员 `emoji_cache`
   - **Qt渲染器** (`qt_renderer.hpp:29`): 添加私有缓存成员 `emoji_cache`

3. **更新各渲染器使用新接口**：
   - 修改所有渲染器的 `draw()` 方法，使用新的 `draw_emoji` 接口获取picture对象

### Why

支持emoji pdf导出
