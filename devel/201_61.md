# [201_61] 修复 tab cycling 缩放导致的位置异常

## 如何测试
1. 进入数学模式
2. 缩放文档到很小，文档区域上方出现灰色区域
3. 测试 tab cycling，测试弹窗位置是否在光标附近（没有明显上移）

## 2026/1/21
### What
在缩放到很小后，tab cycling 弹窗位置异常

### Why
`viewport > surface` 时，上方的 blank 留白未计算进去

### How
```cpp
double blank_top= 0.0;
if (owner && owner->scrollarea () && owner->scrollarea ()->viewport () &&
   owner->scrollarea ()->surface ()) {
 int vp_h  = owner->scrollarea ()->viewport ()->height ();
 int surf_h= owner->scrollarea ()->surface ()->height ();
 if (vp_h > surf_h) blank_top= (vp_h - surf_h) * 0.5;
}
top_px+= blank_top;
```