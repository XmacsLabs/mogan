# [201_36] 鼠标在编辑区域外支持滚动页面

## 如何测试
当鼠标在编辑区域之外时，滚动滚轮，应该触发页面的滚动

## 2025/12/05
### What
当鼠标在编辑区域之外时，滚动滚轮无法触发页面的滚动，这似乎并不符合直觉。

Word在相同情况下是可以触发的。

### Why
在鼠标滚动时，`QEvent::Wheel` 事件被 `QTMScrollView` 捕获

在编辑区域内滚动时，会在 `QTMScrollView::surfaceEvent` 中处理该事件，交给父类处理 `QFrame::event (e);` 相应该事件

而在编辑区域外滚动时，会在 `QTMScrollView::viewportEvent` 中处理该事件，由于一些原因，这部分整体被 `return false;` 了，注释中说明 `let the viewport widget handle the event`，可能一部分事件要交给 `viewport widget` 来处理，但这里滚轮事件也顺便被搁置了

### How
单独将 `QEvent::Wheel` 事件从 `QTMScrollView::viewportEvent` 提出来，并调用 `QFrame::event (e);` 来处理

### 影响评估
viewport 本身是一个普通的 QWidget，滚轮事件交给它处理没有意义，而且将它单独给提出来处理而不是 `return false;` 并不会影响 viewport widget 的处理