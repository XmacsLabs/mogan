# 201_48

## 如何测试

1. 当前搜索替换的快捷键如下

| 功能                        | Linux/Windows      | macOS                             |
| --------------------------- | ------------------ | --------------------------------- |
| **退出查找替换框** | `Esc` | `Esc` |
| **创建选择区域**            | `Ctrl+？`          | `Command+？`                      |
| **插入通配符 x**            | `Ctrl+1`           | `Command+1`                       |
| **插入通配符 y**            | `Ctrl+2`           | `Command+2`                       |
| **插入通配符 z**            | `Ctrl+3`           | `Command+3`                       |
| **上一个匹配项**            |  `Page Up`   | `Page Up`                  |
| **下一个匹配项**            | `Page Down` | `Page Down`                |
| **第一个匹配项**            | `Home`             | `Home` (或 `Fn+←`)                |
| **最后一个匹配项**          | `End`              | `End` (或 `Fn+→`)                 |
| **向前循环匹配 (需要将光标放入搜索框中)**     | `Ctrl+Enter`       | `Command+Return`                  |
| **向后循环匹配 (需要将光标放入搜索框中)**     | `Enter`            | `Return`                          |
| **替换当前匹配项 (需要将光标放入替换框中)**          | `Enter`            | `Return`                          |
| **替换所有后续匹配项 (需要将光标放入替换框中)**          | `Ctrl+Enter`       | `Command+Return`                  |

打开搜索替换窗口，分别测试相应快捷键

2. 分别将焦点聚集在查找框/替换框/辅助窗口上，依次尝试按下esc,观察窗口是否退出并且焦点转移到了主文档上。

3. 使用查找替换功能，主文档显示了所有匹配项后，按下`esc`或者右上角的`x`，查找替换框消失，同时主文档退出了查找模式

## 2025/12/30 取消查找替换框中`↑`和`↓`对应的快捷键,关闭查找替换框后退出查找模式。

## 2025/12/30 修复了辅助窗口中替换快捷键和Esc快捷键的实现


## 2025/12/30 把搜索替换相关的快捷键拆分到 search-kbd.scm