# [209_3] 添加Lua语法高亮支持

## 如何测试

1. 使用菜单`Document->Style->Add package->Code->lua`或加号按钮添加lua宏包
2. 使用 \lua 或者 \lua-code 插入代码块环境
3. 输入Lua代码

## 预期结果

### 更新前

`插入计算机程序`子选项中没有`Lua`选项

### 更新后

新增`Lua`选项，且Lua代码块中的关键词、表达式、分支语句等会高亮显示

## 2025/9/30

### What
为Mogan STEM添加Lua编程语言的语法高亮支持，包括语言定义文件和样式包。

### 主要变更
- 新增Lua语言语法定义文件
- 添加Lua样式包支持
- 支持内联代码和代码块两种展示方式

### 已知bug

1. 无法按预期那样通过end关键字减少缩进
   
### 文件位置

- 语言定义：TeXmacs/plugins/lua/progs/data/lua.scm
- 样式包：TeXmacs/plugins/lua/packages/code/lua.ts
- 编辑功能：TeXmacs/plugins/lua/progs/code/lua-edit.scm
- 文档：TeXmacs/plugins/lua/doc/lua.en.tmu