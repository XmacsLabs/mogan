# [201_58] 表格内部格线支持鼠标拖动

## 如何测试
1. 新建任意样式的表格，有框/无框 普通/标宽 均可
2. 光标在单元格上用 `Alt+→`/`Alt+↓` 扩大表格至任意尺寸
3. 光标放在表格内部格线上，光标应该变成对应的样式（水平调整/垂直调整）
4. 拖动光标，相邻的行列单元格的高度/宽度应该随光标位置变化

## 2026/1/19
### What
Feat：表格内部格线支持鼠标拖动

### How
实现要点：
1. 事件入口 `edit_mouse.cpp`
	- 持续监听 `table-loc?`，在 hover 时区分行分隔线/列分隔线/非分隔区域，切换光标形态（垂直/水平 resize 或 normal）
	- 按下命中分隔线后进入拖动态
	  - `table_resize_hit` 解析 table-loc 元组
	  - `table_resize_start` 记录初始尺寸与索引
	  - `table_resize_apply` 基于鼠标位移计算新宽高并做最小尺寸约束
	  - `table_resize_stop` 收尾
2. 表格命中检测 `composite_boxes.cpp`
	- `table_box_rep::message` 覆盖消息通道，响应 "table-loc?"：
	  - 行分隔线命中返回 `("table-loc" "row" row_index border th bh cols rows ip)`；列分隔线命中返回 `("table-loc" "col" col_index border lw rw cols rows ip)`
	  - 非分隔区域返回 `("table-loc" "cell")`，用于 hover 时恢复普通光标
3. 尺寸写回 `edit_table.cpp`
	- 公开 `table_set_format_region`，批量写入行/列的 `cell-height` / `cell-width` 与精确模式标记（`cell-vmode` / `cell-hmode`），驱动排版立即更新
	- 通过 `table_resize_notify` 通知界面刷新，保证拖动过程的尺寸反馈实时可见