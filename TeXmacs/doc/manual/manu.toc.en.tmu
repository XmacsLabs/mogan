<TMU|<tuple|1.1.0|2025.2.2>>

<style|<tuple|tmudoc|chinese|number-europe>>

<\body>
  <tmdoc-title|链接和内容自动生成><label|sec-man-links>

  <section|创建标签，链接和参考><label|sec-man-create-links>

  通过<key|Meta+!>或者<menu|插入|链接|标签>创建新的未激活标签，通过<key|Meta+?>或者<menu|插入|链接|参考>创建对应的参考。在输入标签或者参考的名字后，莫忘按下回车键<hlink|激活|../text/keyboard/man-hybrid.zh.tm>。在编辑参考的名字时，按下<key|Tab>可以自动补全。对小节加标签时，建议加在小节标题后。给单行公式加标签时，建议加在公式前。给多行公式加标签时，建议加在公式编号后。回顾一下，按下<key|Ctrl+#>可以退出或进入编号环境。

  通过<key|inactive \<gtr\>>或者<menu|Insert|Link|Hyperlink>插入超链接。第一个域填写的是相关的文本，激活后显示为蓝色。第二个域包含了超链接。超链接可以是本地文档的路径，也可以是网络上文档的地址。使用<verbatim|#<with|font-shape|italic|label>>作为超链接则会指向当前文档中的标签，使用<verbatim|<with|font-shape|italic|url>#<with|font-shape|italic|label>>则指向url所定位到的文档中标签的位置。<label|test>

  类似地，通过<key|inactive *>或者<menu|Insert|Link|Action>可以把一个动作关联到一段文本或者图片上。第二个域填写的是一个Guile/Scheme脚本命令。回车激活后，双击这个动作链接，命令就被执行了。为了系统安全，有些脚本会被拒绝执行。<TeXmacs>默认会弹出对话框询问是否执行，但可以在<menu|Preferences|Security>中更改这一默认行为。注意，这条Guile/Scheme命令

  <\verbatim>
    \ \ \ \ (system "shell-command")
  </verbatim>

  会将<verbatim|shell-command>作为shell命令执行。

  通过<key|inactive i>或者<menu|Insert|Link|Include>可以直接将其它文档的内容包含到当前文档中。这意味着，如果你在那些被包含的文档中做了更改，那么这些更改会自动地更新到当前的文档中。

  <section|插入图片><label|sec-man-images>

  通过<menu|Insert|Image>在文档中插入图片，<TeXmacs>支持这些图片格式： <verbatim|ps>， <verbatim|eps>， <verbatim|tif>， <verbatim|pdf>， <verbatim|pdm>， <verbatim|gif>， <verbatim|ppm>， <verbatim|xpm>和<verbatim|fig>。 <TeXmacs>使用<verbatim|gs>即<name|Ghostscript>来渲染postscript图像。如果你还没有安装<name|Ghostscript>，请安装这个软件，并确认<shell|gs>命令可以直接在终端使用。

  目前其他格式的文件是通过<verbatim|tiff2ps>， <verbatim|pdf2ps>， <verbatim|pnmtops>， <verbatim|giftopnm>， <verbatim|ppmtogif>， <verbatim|xpmtoppm>这些脚本转换的。如果你的系统上没有安装这些脚本，请联系你的系统管理员。

  图片默认是以实际大小显示，并和底部对齐。图片的宽度、高度以及对齐时偏移量可在插入图片时弹出的对话框中指定。

  <\itemize>
    <item>如果指定了新的宽度，而没有指定高度，则图片会保持宽度和高度的比例（反之亦成立）。比如指定宽度为<verbatim|1par>就可以让图片的宽度正好等于段落的宽度，而高度会依比例自动调整。

    <verbatim|w> 和 <verbatim|h> 可以作为指定图片大小的单位，比如 <verbatim|2w> 表示是默认宽度的两倍，而 <verbatim|2h> 则表示默认高度的两倍。

    <item>在指定图片的对齐的时候，可以用 <verbatim|w> 和 <verbatim|h> 表示宽度和高度显示的大小（注意此时这两个单位已经不再表示图片的实际宽度和高度了）。例如，给y方向上的偏移赋值为<verbatim|0.5h>，将使图片在竖直方向上向上平移一半的高度。
  </itemize>

  <big-figure|<image|<tuple|<#2F2A2058504D202A2F0A7374617469632063686172202A20656469745F78706D5B5D203D207B0A2236302035362032302031222C0A222009632023303030303030303030303030222C0A222E09632023464646464646464646464646222C0A225809632023444637444446374444463744222C0A226F09632023384533383845333838453338222C0A224F09632023394537393945373939453739222C0A222B09632023454642454546424545464245222C0A224009632023414542414145424141454241222C0A222309632023434633434346334343463343222C0A222409632023313836313143373131383631222C0A222509632023424546424245464242454642222C0A222609632023373945373744463737394537222C0A222A09632023333845333343463333384533222C0A223D09632023343932343444333434393234222C0A222D09632023323841323243423232384132222C0A223B09632023353936353544373535393635222C0A223A09632023303832303043333030383230222C0A223E09632023363941363644423636394136222C0A222C09632023464646463735443637314336222C0A223C09632023433731424245464242454642222C0A223109632023464646463945373933304332222C0A22202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E586F2E2E2E2E2E4F6F4F2E2E2E2E2E2E2E2B4F2E586F2E2E2E2E2E2E2E2E2B2E4023586F2E2E2E2E2E2E2E2E2E586F2E2E2E2E2E2E20222C0A22202E2E2E2E402B24252B2E2E262A40242E402325232E23583D2B4F242E252B25252E2E2B2D58263B2B242E40232E252E2E2E402B24252B2E2E2E2E20222C0A22202E2E2E233A24243B3B2E2E2A402E3E263B3E2A242E2D58243B3B242B20583A3B2E2E23244F4F2A242D263B242B202E2E233A24243B3B2E2E2E2E20222C0A22202E2E2E4F3A20243B3B2E2E4F2D6F2A263D263D24582D58243B3B3A2B3A5824232E2E2E243D263D5824263D3A2B3A2E2E4F3A20243B3B2E2E2E2E20222C0A22202E2E2E2E252523252B2E2E2E23252B2E255823232B252B232B25252B582B232B2E2E2E235858232B232E25582E582E2E2E252523252B2E2E2E2E20222C0A22202E2E2E2E2E586F586F2E2E2E2E2B4F2E2E2E2B264F2E2E2E2B4F2B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E402B242B242E40232E583D232523263D2A232523582B2D5825402E2E2E234023232B252525232E232E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E263B242D2E2D263B242B58243E2A243D3B243E2A245823242B203A252E2E2D243E3E2B3A3D2A242E2D2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E263D58245824263D3A2B5824263D243B3B24263D245824242B3A2D252E2E2D3A4F3D2B243B3D24582D2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2B2E2E252B232B232E25582E2B235823235823235823232B23235858252E2E2E25232B252B232323232B232E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E252D26203A40242B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E583A2D242024242E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E252E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2325252B232E2B232B232E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E263A3A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E3D20243B3B3B3B2A203A2B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E3E3A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E583A3A582E2E2E2E2B3D6F2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E3E3A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E40202D2E2E2E2E2E2B252E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E3E3A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E3E203E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E4F2D3A262E2E2E2E2E2E2E2E2E2E2E20202E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2D20402E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E582323582E2E2E2E2E2E2E2E2E2E202C2020202E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E23203E2E2E2E2E2E2E2E2E2E2E2E2E2020202020202020202020202020202020202020202020202C2C2C20202E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E3D2A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E202C2C2C2C2C202E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E26242B2E2E2E2E2E582E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2020202C2C202E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E4F3A232E2E2E2E2E263E2E2E2E2E2E2E2E2E2326232E2E2E2E2E2E2E2E2E2B2E2E2E2E2E2E25203C3C20202C202E2E2E2E2E20222C0A22202E2E2E2E2E2E2E23203D6F6F6F6F3E2D20232E2E2E2E2E2E2E2E402040403B3B3E2E2E2E2E2E3A2E2E2E2E263A2E20203C3C3C202E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E262A2A2A2A2A2A2A2A3B2E2E2E2E2E2E2E2E2E4F20263E203B20582E2E2E2E3A2E2E2E2E2E2020312020203C202E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E3B202D253A6F20262E254F4F3A4F4F232E2E202031313120202E2E2E2E2E2E2E20222C0A22202E2E253A582E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E243A3A2B582B2E2E2E403E3E3A3E3E402E20203131313131202E2E2E2E2E2E2E20222C0A22202E2E40203E4F6F3E3E3E3E2B2E2E2E2E2E263B6F6F3B4F2E2E2B2026203A2B2E2E2E2E2E2E2E3A2E2E2E2E2E2031313131202E2E2E2E2E2E2E2E20222C0A22202E2E3E20203B4F6F6F6F6F262D2D2D2A252D26203A40242B2E2E252E25582E2E2E2E2E2E2E2E3A2E2E2E2E203131313131202E2E2E2E2E2E2E2E20222C0A22202E2E2A3D203D3D2D2D2D2D2B5858582B583A2D242024242E2E2E2E2E2E2E2E2E2E2E2E2E2E2E252E2E2E2E2031313131202E2E2E2E2E2E2E2E2E20222C0A22202E2E582B232B2E2E2E2E2E2E2E2E2E2E2E2B232E2B232B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E203131313131202E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2031313131202E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E203131313131202E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2031313131202E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E584F4F4F40232E2E2E2E2B2E2E2B4F2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20313131313120232E2B4F2E2E2E2E2E2E2E20222C0A22202E2E6F263A3E263B232E402B2D582E583D23402E2E40232E2E2E40232E2E2323252325232325232320313131312D263B23583D232525232E2E2E20222C0A22202E2E2B2B3A2B4F2A24233A23244F2E58242D242E233A242E2E233A242E233E3E243E2A243E2A24203131313120204F2A2458243E2A244F2E2E2E20222C0A22202E2E2E403A25263D244F3A20243D2E58242D3A2E4F3A206F2E4F3A206F234F3D3A263D24263D2420313131312024263D245824263D20232E2E2E20222C0A22202E2E2E5823585823232E252523582E2B2325232E2E25252B2E2E25252B2B2B2525582323582320313131313120235823232B2358232A262E2E2E20222C0A22202E2E2E4F6F2E2E2E2E2E2E2E4F6F2E2E2E2E2E2E2E2E2B4F2E2E2E2E2E2E2E2E586F2E2E2E202031313131202E2E2E2E2E2E2E2E2E252B2E2E2E20222C0A22202E2E2B242E402B25252E2E2B242E402B25252E232523583D234F2B25402E2E2E2B242E4023203131313131202E2E234F4F252E2E2E2E2E2E2E2E20222C0A22202E2E2324263B583A3B2E2E2324263B583A3B2E3E2A2458243A3B2B203A252E2E2E2D263B242031313131202E2E2E583A3B2D2E402B25252E2E2E20222C0A22202E2E5824263D5824232E2E5824263D5824232E263D245824243B2B3A2D252E2E5824263D2E2031313131202B2E2E2E3A3A58263B583A3B2E2E2E20222C0A22202E2E2B232E252B232B2E2E2B232E252B232B2E5823232B2358252E58252E2E2E2B232E252B20203120202B2A2E2E233A4F2E263D5824232E2E2E20222C0A22202E2E2E2E2E586F2B4F2E2B2E2E2E2B4F2E2B2E2E2B4F2E2E2E2E2E2E2E586F2E2E2E2E2E2E3A202020252E232E2E2B232B2E2E252B232B2E2E2E20222C0A22202E2E25402B4F24583D2B2D582E2E583D2B2D582E583D23402E2E2E40232B24582B2E2E2E2E20252B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2B203A3B3B24582423244F2E2E582423244F2E58242D242E2E263B242B2424252E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2B3A2D3B3B3A58242B242B2D2E58242B243D2E58242D3A2E2E263D3A583A3A4F2A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E58252B25252B232B232E242E2B232B23582E2B2325232E2E2E25582B232358232E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020227D3B0A>|xpm>|60px|56px||0.5h><image|<tuple|<#2F2A2058504D202A2F0A7374617469632063686172202A20656469745F78706D5B5D203D207B0A2236302035362032302031222C0A222009632023303030303030303030303030222C0A222E09632023464646464646464646464646222C0A225809632023444637444446374444463744222C0A226F09632023384533383845333838453338222C0A224F09632023394537393945373939453739222C0A222B09632023454642454546424545464245222C0A224009632023414542414145424141454241222C0A222309632023434633434346334343463343222C0A222409632023313836313143373131383631222C0A222509632023424546424245464242454642222C0A222609632023373945373744463737394537222C0A222A09632023333845333343463333384533222C0A223D09632023343932343444333434393234222C0A222D09632023323841323243423232384132222C0A223B09632023353936353544373535393635222C0A223A09632023303832303043333030383230222C0A223E09632023363941363644423636394136222C0A222C09632023464646463735443637314336222C0A223C09632023433731424245464242454642222C0A223109632023464646463945373933304332222C0A22202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E586F2E2E2E2E2E4F6F4F2E2E2E2E2E2E2E2B4F2E586F2E2E2E2E2E2E2E2E2B2E4023586F2E2E2E2E2E2E2E2E2E586F2E2E2E2E2E2E20222C0A22202E2E2E2E402B24252B2E2E262A40242E402325232E23583D2B4F242E252B25252E2E2B2D58263B2B242E40232E252E2E2E402B24252B2E2E2E2E20222C0A22202E2E2E233A24243B3B2E2E2A402E3E263B3E2A242E2D58243B3B242B20583A3B2E2E23244F4F2A242D263B242B202E2E233A24243B3B2E2E2E2E20222C0A22202E2E2E4F3A20243B3B2E2E4F2D6F2A263D263D24582D58243B3B3A2B3A5824232E2E2E243D263D5824263D3A2B3A2E2E4F3A20243B3B2E2E2E2E20222C0A22202E2E2E2E252523252B2E2E2E23252B2E255823232B252B232B25252B582B232B2E2E2E235858232B232E25582E582E2E2E252523252B2E2E2E2E20222C0A22202E2E2E2E2E586F586F2E2E2E2E2B4F2E2E2E2B264F2E2E2E2B4F2B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E402B242B242E40232E583D232523263D2A232523582B2D5825402E2E2E234023232B252525232E232E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E263B242D2E2D263B242B58243E2A243D3B243E2A245823242B203A252E2E2D243E3E2B3A3D2A242E2D2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E263D58245824263D3A2B5824263D243B3B24263D245824242B3A2D252E2E2D3A4F3D2B243B3D24582D2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2B2E2E252B232B232E25582E2B235823235823235823232B23235858252E2E2E25232B252B232323232B232E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E252D26203A40242B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E583A2D242024242E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E252E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2325252B232E2B232B232E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E263A3A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E3D20243B3B3B3B2A203A2B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E3E3A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E583A3A582E2E2E2E2B3D6F2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E3E3A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E40202D2E2E2E2E2E2B252E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E3E3A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E3E203E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E4F2D3A262E2E2E2E2E2E2E2E2E2E2E20202E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2D20402E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E582323582E2E2E2E2E2E2E2E2E2E202C2020202E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E23203E2E2E2E2E2E2E2E2E2E2E2E2E2020202020202020202020202020202020202020202020202C2C2C20202E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E3D2A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E202C2C2C2C2C202E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E26242B2E2E2E2E2E582E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2020202C2C202E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E4F3A232E2E2E2E2E263E2E2E2E2E2E2E2E2E2326232E2E2E2E2E2E2E2E2E2B2E2E2E2E2E2E25203C3C20202C202E2E2E2E2E20222C0A22202E2E2E2E2E2E2E23203D6F6F6F6F3E2D20232E2E2E2E2E2E2E2E402040403B3B3E2E2E2E2E2E3A2E2E2E2E263A2E20203C3C3C202E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E262A2A2A2A2A2A2A2A3B2E2E2E2E2E2E2E2E2E4F20263E203B20582E2E2E2E3A2E2E2E2E2E2020312020203C202E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E3B202D253A6F20262E254F4F3A4F4F232E2E202031313120202E2E2E2E2E2E2E20222C0A22202E2E253A582E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E243A3A2B582B2E2E2E403E3E3A3E3E402E20203131313131202E2E2E2E2E2E2E20222C0A22202E2E40203E4F6F3E3E3E3E2B2E2E2E2E2E263B6F6F3B4F2E2E2B2026203A2B2E2E2E2E2E2E2E3A2E2E2E2E2E2031313131202E2E2E2E2E2E2E2E20222C0A22202E2E3E20203B4F6F6F6F6F262D2D2D2A252D26203A40242B2E2E252E25582E2E2E2E2E2E2E2E3A2E2E2E2E203131313131202E2E2E2E2E2E2E2E20222C0A22202E2E2A3D203D3D2D2D2D2D2B5858582B583A2D242024242E2E2E2E2E2E2E2E2E2E2E2E2E2E2E252E2E2E2E2031313131202E2E2E2E2E2E2E2E2E20222C0A22202E2E582B232B2E2E2E2E2E2E2E2E2E2E2E2B232E2B232B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E203131313131202E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2031313131202E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E203131313131202E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2031313131202E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E584F4F4F40232E2E2E2E2B2E2E2B4F2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20313131313120232E2B4F2E2E2E2E2E2E2E20222C0A22202E2E6F263A3E263B232E402B2D582E583D23402E2E40232E2E2E40232E2E2323252325232325232320313131312D263B23583D232525232E2E2E20222C0A22202E2E2B2B3A2B4F2A24233A23244F2E58242D242E233A242E2E233A242E233E3E243E2A243E2A24203131313120204F2A2458243E2A244F2E2E2E20222C0A22202E2E2E403A25263D244F3A20243D2E58242D3A2E4F3A206F2E4F3A206F234F3D3A263D24263D2420313131312024263D245824263D20232E2E2E20222C0A22202E2E2E5823585823232E252523582E2B2325232E2E25252B2E2E25252B2B2B2525582323582320313131313120235823232B2358232A262E2E2E20222C0A22202E2E2E4F6F2E2E2E2E2E2E2E4F6F2E2E2E2E2E2E2E2E2B4F2E2E2E2E2E2E2E2E586F2E2E2E202031313131202E2E2E2E2E2E2E2E2E252B2E2E2E20222C0A22202E2E2B242E402B25252E2E2B242E402B25252E232523583D234F2B25402E2E2E2B242E4023203131313131202E2E234F4F252E2E2E2E2E2E2E2E20222C0A22202E2E2324263B583A3B2E2E2324263B583A3B2E3E2A2458243A3B2B203A252E2E2E2D263B242031313131202E2E2E583A3B2D2E402B25252E2E2E20222C0A22202E2E5824263D5824232E2E5824263D5824232E263D245824243B2B3A2D252E2E5824263D2E2031313131202B2E2E2E3A3A58263B583A3B2E2E2E20222C0A22202E2E2B232E252B232B2E2E2B232E252B232B2E5823232B2358252E58252E2E2E2B232E252B20203120202B2A2E2E233A4F2E263D5824232E2E2E20222C0A22202E2E2E2E2E586F2B4F2E2B2E2E2E2B4F2E2B2E2E2B4F2E2E2E2E2E2E2E586F2E2E2E2E2E2E3A202020252E232E2E2B232B2E2E252B232B2E2E2E20222C0A22202E2E25402B4F24583D2B2D582E2E583D2B2D582E583D23402E2E2E40232B24582B2E2E2E2E20252B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2B203A3B3B24582423244F2E2E582423244F2E58242D242E2E263B242B2424252E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2B3A2D3B3B3A58242B242B2D2E58242B243D2E58242D3A2E2E263D3A583A3A4F2A2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E58252B25252B232B232E242E2B232B23582E2B2325232E2E2E25582B232358232E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202E2E2E2E2E2E2E2E2E2E2E2E2B2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E2E20222C0A22202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020202020227D3B0A>|xpm>|60px|56px|0.5w|>|左图的偏移为<verbatim|(0w,0.5h)>，右图的偏移为<verbatim|(0.5w,0h)>>

  关于如何编辑以及插入带有<LaTeX>公式的图片，请参考本文档英文<hlink|原文|man-images.en.tm>的最后一段。

  <section|生成目录><label|sec-man-toc>

  只要你以正确的方式撰写好文档，生成目录非常容易。只要将你的光标置于目录要生成的位置，然后点击<menu|插入|自动|目录>。

  接着是生成目录，首先要让文档分页显示，在<menu|Document|Page...>的格式一栏下的屏幕渲染选项中选择paper即可，这样每一页就有了一个可供引用的页码。再点击<menu|文档|更新|全部>或者<menu|文档|更新|目录>就生成了目录。注意： 可能需要重复更新多次，直到目录没有变化为止。因为每一次更新后，页码都可能会由于目录大小的改变而变化！

  <section|Compiling a bibliography><label|sec-man-bibliography>

  <subsubsection*|Editing files with bibliographic entries>

  <TeXmacs> uses the <BibTeX> model for its bibliographies. Manuals about <BibTeX> can easily be found at various places on the web. <BibTeX> files can either be entered and edited using <TeXmacs> itself or using an external tool. Some external tools offer possibilities to search and retrieve bibliographic entries on the web, which can be a reason to prefer such tools from time to time. <TeXmacs> implements good converters for <BibTeX> files, so several editors can easily be used in conjunction.

  The built-in editor for <BibTeX> files is automatically used for files with the <verbatim|.bib> extension. New items can easily be added using <menu|Insert|Database entry>. When creating a new entry, required fields appear in dark blue, alternative fields in dark green and optional fields in light blue. The special field inside the header of your entry is the name of your entry, which will be used later for references to this entry. When editing a field, you may use <shortcut|(kbd-return)> to confirm it and jump to the next one (blank optional fields will automatically be removed when doing this). When the cursor is inside a bibliographic entry, additional fields may also be added using <menu|Focus|Insert above> and <menu|Focus|Insert below>.

  <BibTeX> contains a few unnatural conventions for entering names of authors and managing capitalization inside titles. When editing <BibTeX> files using <TeXmacs>, these conventions are replaced by the following more user friendly conventions:

  <\itemize>
    <item>When entering authors (inside “Author” or “Editor” fields), use the <markup|name> tag for specifying last names (using <menu|Insert|Last name> or <shortcut|(make 'name)>) For instance, “Albert Einstein” should be entered as “Albert <name|Einstein>” or as “A. <name|Einstein>”. Special particles such as “von” can be entered using <menu|Insert|Particle>. Title suffices such as “Jr.” can be entered similarly using <menu|Insert|Title suffix>.

    <item>When entering titles, do not capitalize, except for the first character and names or concepts that always must be. For instance, use “Riemannian geometry” instead of “Riemannian Geometry” and “Differential Galois theory” instead of “Differential Galois Theory”.
  </itemize>

  <subsubsection*|Inserting citations and compiling bibliographies>

  Assuming that you have created a <verbatim|.bib> file with your bibliographic references, the mechanism to automatically compile a bibliography is the following:

  <\itemize>
    <item>Use <menu|Insert|Link|Citation> and <menu|Insert|Link|Invisible citation> to insert citations, which correspond to entries in your <verbatim|.bib> file.

    <item>At the place where your bibliography should be compiled, click on <menu|Insert|Automatic|Bibliography>. At the prompt, you should enter a <verbatim|bibtex> style (such as <verbatim|plain>, <verbatim|alpha>, <verbatim|abbrv>, etc.) and your <verbatim|.bib> file.

    <item>Use <menu|Document|Update|Bibliography> in order to compile your bibliography.
  </itemize>

  Notice that additional BiB<TeX> styles should be put in the directory <verbatim|~/.TeXmacs/system/bib>.

  <section|Generating an index><label|sec-man-index>

  For the generation of an index, you first have to put index entries in your document using <menu|Insert|Link|Index entry>. At a second stage, you must put your cursor at the place where you want your index to be generated and click on <menu|Insert|Automatic|Index>. The index is than generated in a similar way as the table of contents.

  In the <menu|Insert|Link|Index entry> menu, you find several types of index entries. The simplest are “main”, “sub”, “subsub”, which are macros with one, two and three arguments respectively. Entries of the form “sub” and “subsub” may be used to subordinate index entries with respect to other ones.

  A complex index entry takes four arguments. The first one is a key how the entry has to be sorted and it must be a “tuple” (created using <key|inactive \<less\>>) whose first component is the main category, the second a subcategory, etc. The second argument of a complex index entry is either blank or “strong”, in which case the page number of your entry will appear in a bold typeface. The third argument is usually blank, but if you create two index entries with the same non-blank third argument, then this will create a “range” of page numbers. The fourth argument, which is again a tuple, is the entry itself.

  It is also possible to create an index line without a page number using “interject” in <menu|Insert|Link|Index entry>. The first argument of this macro is a key for how to sort the index line. The second argument contains the actual text. This construct may be useful for creating different sections “A”, “B”, etc. in your index.

  <section|编制术语表><label|sec-man-glossary>

  术语表的编制与索引的编制类似，但无需对条目排序。“常规”的术语条目只包含若干文字和一个自动生成的页码。“详细”的术语条目还包含额外的参数，以解释该术语。“重复”的术语条目则用于显示该术语第二次出现的页码。

  <section|Multiple extractions><label|sec-man-multiple-extractions>

  <TeXmacs> allows users to create multiple bibliographies, tables of contents, indexes, <abbr|etc.> inside the same document. Let us explain how to do this for bibliographies; the procedure is similar for other types of automatically generated content.

  First of all, every separate bibliography is identified by a “name”. The default name of the bibliography is <verbatim|bib>. Using <menu|Insert|Link|Alternate|Bibliography>, it is possible to specify a different bibliography (than the default one) for a certain region of text.

  For instance, to specify that a given citation should appear in a second bibliography with name <verbatim|bib2>, you should proceed as follows:

  <\itemize>
    <item>Click on <menu|Insert|Link|Alternate|Bibliography> and enter <verbatim|bib2> on the prompt. This will insert an empty <markup|with-bib> tag into your document, with the cursor inside.

    <item>Inside this <markup|with-bib> tag, enter your citation, using <menu|Insert|Link|Citation>.
  </itemize>

  If needed, the <markup|with-bib> tag can be made to span over a large portion of text. All citations inside this span will be be put into the bibliography with name <verbatim|bib2>.

  The bibliography <verbatim|bib2> itself should be created in a similar way: first click on <menu|Insert|Link|Alternate|Bibliography> and enter <verbatim|bib2> on the prompt. Next insert the bibliography as usual, <em|via> <menu|Insert|Automatic|Bibliography>. Now do <menu|Document|Update|All> as many times as need in order to generate the bibliography and get all links right.

  <section|Books and multifile documents><label|sec-man-multifile>

  When a document gets really large, you may want to subdivide it into smaller pieces. This both makes the individual pieces more easily reusable in other works and it improves the editor's responsiveness. An entire file can be inserted into another one using <menu|Insert|Link|Include>. In order to speed up the treatment of included documents, they are being buffered. In order to update all included documents, you should use <menu|Tools|Update|Inclusions>.

  When writing a book, one usually puts the individual chapters in files <verbatim|c1.tm>, <verbatim|c2.tm> until <verbatim|cn.tm>. One next creates one file <verbatim|book.tm> for the whole book, in which the files <verbatim|c1.tm>, <verbatim|c2.tm> until <verbatim|cn.tm> are included using the above mechanism. The table of contents, bibliography, etc. are usually put into <verbatim|book.tm>.

  In order to see cross references to other chapters when editing a particular chapter <verbatim|ci.tm>, one may specify <verbatim|book.tm> as a “master file” for the files <verbatim|c1.tm> to <verbatim|cn.tm> using <menu|Tools|Project|Attach master>. Currently, the chapter numbers themselves are not dealt with by this mechanism, so you may want to manually assign the environment variable <src-var|chapter-nr> at the start of each chapter file in order to get the numbering right when editing.
</body>

<\initial>
  <\collection>
    <associate|page-medium|paper>
    <associate|page-screen-margin|false>
  </collection>
</initial>
